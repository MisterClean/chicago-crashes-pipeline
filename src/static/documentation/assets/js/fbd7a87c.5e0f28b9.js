"use strict";(self.webpackChunkchicago_crashes_pipeline_docs=self.webpackChunkchicago_crashes_pipeline_docs||[]).push([[361],{8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}},8594:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"getting-started/quickstart","title":"Quick Start","description":"Set up a local Chicago Crash Data Pipeline environment and run the core services in minutes.","source":"@site/docs/getting-started/quickstart.md","sourceDirName":"getting-started","slug":"/getting-started/quickstart","permalink":"/documentation/getting-started/quickstart","draft":false,"unlisted":false,"editUrl":"https://github.com/MisterClean/chicago-crashes-pipeline/tree/main/docs/getting-started/quickstart.md","tags":[],"version":"current","lastUpdatedAt":null,"sidebarPosition":1,"frontMatter":{"title":"Quick Start","sidebar_position":1,"description":"Set up a local Chicago Crash Data Pipeline environment and run the core services in minutes."},"sidebar":"guideSidebar","previous":{"title":"Welcome","permalink":"/documentation/"},"next":{"title":"Configuration Reference","permalink":"/documentation/getting-started/configuration"}}');var s=t(4848),a=t(8453);const r={title:"Quick Start",sidebar_position:1,description:"Set up a local Chicago Crash Data Pipeline environment and run the core services in minutes."},o=void 0,l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Clone the Repository",id:"1-clone-the-repository",level:2},{value:"2. Create a Virtual Environment",id:"2-create-a-virtual-environment",level:2},{value:"3. Install Python Dependencies",id:"3-install-python-dependencies",level:2},{value:"4. Configure Environment Variables",id:"4-configure-environment-variables",level:2},{value:"5. Provision the Database",id:"5-provision-the-database",level:2},{value:"6. Start the API &amp; Admin Portal",id:"6-start-the-api--admin-portal",level:2},{value:"7. Run a Test Sync",id:"7-run-a-test-sync",level:2},{value:"8. Optional: Start Everything with Docker Compose",id:"8-optional-start-everything-with-docker-compose",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"The Chicago Crash Data Pipeline ships with everything you need to run the REST API, admin portal, and ETL jobs locally. This guide walks through the fastest path to a working system."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Python ",(0,s.jsx)(n.strong,{children:"3.11"})," or later (aligns with the production Docker image)"]}),"\n",(0,s.jsxs)(n.li,{children:["PostgreSQL ",(0,s.jsx)(n.strong,{children:"15"})," with the PostGIS extension (or use the bundled Docker Compose services)"]}),"\n",(0,s.jsxs)(n.li,{children:["Redis ",(0,s.jsx)(n.strong,{children:"7"})," (also bundled with Docker Compose)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://git-scm.com/",children:"Git"})," for source control"]}),"\n",(0,s.jsxs)(n.li,{children:["Optional: ",(0,s.jsx)(n.a,{href:"https://www.gnu.org/software/make/manual/",children:"Make"})," for convenience commands"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"1-clone-the-repository",children:"1. Clone the Repository"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/MisterClean/chicago-crashes-pipeline.git\ncd chicago-crashes-pipeline\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2-create-a-virtual-environment",children:"2. Create a Virtual Environment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 -m venv venv\nsource venv/bin/activate  # Windows: venv\\Scripts\\activate\n"})}),"\n",(0,s.jsx)(n.h2,{id:"3-install-python-dependencies",children:"3. Install Python Dependencies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n",(0,s.jsx)(n.p,{children:"If you plan to contribute code, also install the editable package and dev tools:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"make dev-install\n"})}),"\n",(0,s.jsx)(n.h2,{id:"4-configure-environment-variables",children:"4. Configure Environment Variables"}),"\n",(0,s.jsx)(n.p,{children:"Copy the example environment file and adjust values as needed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n"})}),"\n",(0,s.jsxs)(n.p,{children:["At minimum set your database password (",(0,s.jsx)(n.code,{children:"DB_PASSWORD"}),") and optional Chicago Data Portal token (",(0,s.jsx)(n.code,{children:"CHICAGO_API_TOKEN"}),") for higher rate limits."]}),"\n",(0,s.jsx)(n.h2,{id:"5-provision-the-database",children:"5. Provision the Database"}),"\n",(0,s.jsx)(n.p,{children:"If you have PostgreSQL running locally, ensure PostGIS is enabled:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'createdb chicago_crashes\npsql -d chicago_crashes -c "CREATE EXTENSION IF NOT EXISTS postgis;"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The API automatically runs ",(0,s.jsx)(n.code,{children:"Base.metadata.create_all"})," on startup, so no migrations are required for an empty database. To apply future migrations use:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"alembic upgrade head\n"})}),"\n",(0,s.jsx)(n.h2,{id:"6-start-the-api--admin-portal",children:"6. Start the API & Admin Portal"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"uvicorn src.api.main:app --reload --host 0.0.0.0 --port 8000\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Open ",(0,s.jsx)(n.a,{href:"http://localhost:8000/admin",children:"http://localhost:8000/admin"})," to access the admin portal UI. API documentation is available at ",(0,s.jsx)(n.a,{href:"http://localhost:8000/docs",children:"http://localhost:8000/docs"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"7-run-a-test-sync",children:"7. Run a Test Sync"}),"\n",(0,s.jsx)(n.p,{children:"With the API running you can trigger syncs either through the admin portal or directly via HTTP:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl -X POST http://localhost:8000/sync/test\n"})}),"\n",(0,s.jsx)(n.p,{children:"For full data pulls the CLI provides fine-grained control:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Run a historical backfill starting on 2017-09-01\npython -m src.cli.pipeline initial-load --start-date 2017-09-01\n\n# Refresh the last 7 days of data across all endpoints\npython -m src.cli.pipeline delta --window-days 7\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The CLI relies on the same configuration as the API, including environment variables and ",(0,s.jsx)(n.code,{children:"config/config.yaml"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"8-optional-start-everything-with-docker-compose",children:"8. Optional: Start Everything with Docker Compose"}),"\n",(0,s.jsx)(n.p,{children:"If you prefer containers, use the bundled Compose stack which runs PostgreSQL, Redis, and the FastAPI service together:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose -f docker/docker-compose.yml up --build\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The application listens on port ",(0,s.jsx)(n.code,{children:"8000"}),", PostgreSQL on ",(0,s.jsx)(n.code,{children:"5432"}),", and Redis on ",(0,s.jsx)(n.code,{children:"6379"}),". Logs stream to your terminal; use ",(0,s.jsx)(n.code,{children:"-d"})," to run in the background."]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Review the ",(0,s.jsx)(n.a,{href:"/documentation/getting-started/configuration",children:"Configuration Reference"})," to tailor API access, rate limits, and logging."]}),"\n",(0,s.jsxs)(n.li,{children:["Explore the ",(0,s.jsx)(n.a,{href:"/documentation/user-guides/admin-portal",children:"Admin Portal guide"})," for day-to-day operations."]}),"\n",(0,s.jsxs)(n.li,{children:["Learn how to deploy the stack using the ",(0,s.jsx)(n.a,{href:"/documentation/operations/deployment",children:"Operations Handbook"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);