"use strict";(self.webpackChunkchicago_crashes_pipeline_docs=self.webpackChunkchicago_crashes_pipeline_docs||[]).push([[292],{2005:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"operations/operations-overview","title":"Operations Overview","description":"Operational responsibilities for running the Chicago Crash Data Pipeline in production.","source":"@site/docs/operations/operations-overview.md","sourceDirName":"operations","slug":"/operations/operations-overview","permalink":"/documentation/operations/operations-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/MisterClean/chicago-crashes-pipeline/tree/main/docs/operations/operations-overview.md","tags":[],"version":"current","lastUpdatedAt":null,"sidebarPosition":1,"frontMatter":{"title":"Operations Overview","sidebar_position":1,"description":"Operational responsibilities for running the Chicago Crash Data Pipeline in production."},"sidebar":"guideSidebar","previous":{"title":"Data Catalog & Schema Reference","permalink":"/documentation/data-catalog/data-model"},"next":{"title":"Deployment Guide","permalink":"/documentation/operations/deployment"}}');var t=n(4848),r=n(8453);const o={title:"Operations Overview",sidebar_position:1,description:"Operational responsibilities for running the Chicago Crash Data Pipeline in production."},a=void 0,l={},d=[{value:"Core Responsibilities",id:"core-responsibilities",level:2},{value:"Monitoring Checklist",id:"monitoring-checklist",level:2},{value:"Spatial Assets",id:"spatial-assets",level:2},{value:"Backups &amp; Disaster Recovery",id:"backups--disaster-recovery",level:2},{value:"Incident Runbook",id:"incident-runbook",level:2}];function c(e){const s={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"Operations teams oversee deployments, monitoring, spatial assets, and data lifecycle management. This chapter outlines the key tasks and recommended tooling."}),"\n",(0,t.jsx)(s.h2,{id:"core-responsibilities",children:"Core Responsibilities"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Deploy & Upgrade"})," \u2013 roll out the FastAPI service, database migrations, and admin portal assets (see ",(0,t.jsx)(s.a,{href:"/documentation/operations/deployment",children:"Deployment"}),")."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Monitor Health"})," \u2013 track API uptime, scheduler status, sync throughput, and data quality."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Manage Spatial Assets"})," \u2013 keep shapefiles and custom GeoJSON layers current."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Audit Data Loads"})," \u2013 verify record counts, investigate anomalies, and coordinate corrective actions."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"monitoring-checklist",children:"Monitoring Checklist"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Task"}),(0,t.jsx)(s.th,{children:"Tooling"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"API uptime & latency"}),(0,t.jsxs)(s.td,{children:["Reverse proxy logs, Load balancer health checks, ",(0,t.jsx)(s.code,{children:"GET /health"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Job scheduler progress"}),(0,t.jsxs)(s.td,{children:["Admin portal dashboard, ",(0,t.jsx)(s.code,{children:"GET /jobs/summary"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Execution failures"}),(0,t.jsxs)(s.td,{children:["Admin portal toasts, ",(0,t.jsx)(s.code,{children:"job_executions"})," table, alerting on ",(0,t.jsx)(s.code,{children:"status = 'FAILED'"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Database health"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"pg_isready"}),", Cloud provider metrics, disk utilisation alarms"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"External API quota"}),(0,t.jsxs)(s.td,{children:["Chicago Data Portal account dashboard, application logs containing ",(0,t.jsx)(s.code,{children:"rate limit"})," warnings"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"Integrate key endpoints into your monitoring stack (Prometheus exporters, Datadog checks, etc.)."}),"\n",(0,t.jsx)(s.h2,{id:"spatial-assets",children:"Spatial Assets"}),"\n",(0,t.jsx)(s.p,{children:"Spatial data powers map overlays and joins. Maintain two sets of assets:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Reference Shapefiles"})," \u2013 load official wards, community areas, precincts, etc. with ",(0,t.jsx)(s.code,{children:"POST /spatial/load"})," or ",(0,t.jsx)(s.code,{children:"make load-shapefiles"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Custom Layers"})," \u2013 upload curated GeoJSON via the admin portal when business users need bespoke boundaries."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["When new shapefiles are released, place them in ",(0,t.jsx)(s.code,{children:"data/shapefiles/"})," and re-run the loader. The loader replaces existing tables with fresh content."]}),"\n",(0,t.jsx)(s.h2,{id:"backups--disaster-recovery",children:"Backups & Disaster Recovery"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Database Backups"})," \u2013 schedule regular ",(0,t.jsx)(s.code,{children:"pg_dump"})," exports or rely on managed Postgres snapshotting."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Log Retention"})," \u2013 rotate ",(0,t.jsx)(s.code,{children:"logs/*.log"})," off-host for compliance where required."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Config Snapshots"})," \u2013 version ",(0,t.jsx)(s.code,{children:"config/config.yaml"})," changes via Git, and secure ",(0,t.jsx)(s.code,{children:".env"})," files using a secret manager."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"incident-runbook",children:"Incident Runbook"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Identify"})," \u2013 use alerts or portal signals to detect outages or data drift."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Stabilise"})," \u2013 disable failing jobs in the portal to stop repeated failures."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Diagnose"})," \u2013 inspect ETL logs, examine the offending batches, and verify upstream API status."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Remediate"})," \u2013 re-run targeted jobs, backfill missing data, or roll back configuration changes."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Review"})," \u2013 document the incident, compare observed behaviour with expectations, and update this runbook as needed."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Maintain strong communication between development and operations teams\u2014most configuration changes require coordination to avoid unnecessary downtime."})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var i=n(6540);const t={},r=i.createContext(t);function o(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);